(this.webpackJsonppecode=this.webpackJsonppecode||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(24),i=n(56),s=n(54),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_CHARACTERS_LIST"===t.type?t.characters:e},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_EPISODES_LIST"===t.type?t.episodes:e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_CHARACTERS_INFO"===t.type?t.charsInfo:e},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_EPISODES_INFO"===t.type?t.epsInfo:e},u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_CHARACTERS_ERROR"===t.type?t.isErrorOccurred:e},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_EPISODES_ERROR"===t.type?t.isErrorOccurred:e},h=Object(i.a)({charactersReducer:o,episodesReducer:d,charactersInfoReducer:l,episodesInfoReducer:j,charactersErrorReducer:u,episodesErrorReducer:b}),p=(n(101),n(102),n(12)),O=n(159),x=n(169),f=n(168),m="https://rickandmortyapi.com/api/episode/",v=function(e){return{type:"SET_CHARACTERS_ERROR",isErrorOccurred:e}},g=function(e){return{type:"SET_EPISODES_ERROR",isErrorOccurred:e}};function E(e,t,n){fetch(n).then((function(e){return e.json()})).then((function(n){"characters"===e?n.error?t(v(!0)):(t(v(!1)),t({type:"SET_CHARACTERS_LIST",characters:n.results}),t({type:"SET_CHARACTERS_INFO",charsInfo:n.info})):n.error?t(g(!0)):(t(g(!1)),t({type:"SET_EPISODES_LIST",episodes:n.results}),t({type:"SET_EPISODES_INFO",epsInfo:n.info}))}))}var S=n(171),y=n(173),R=n(172),C=n(166),T=n(170),I=n(175),_=n(36),A=n(14),w=n(157);function k(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var D=n(2),P={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:500,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},F={maxHeight:300,overflowY:"auto"};function L(e){var t=e.data,n=e.open,c=e.onClose,a=Object(r.useState)([]),i=Object(p.a)(a,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){return fetch(m+t.episode.map((function(e){return e.split("/")[e.split("/").length-1]})).join(",")).then((function(e){return e.json()})).then((function(e){Array.isArray(e)?o(Object(A.a)(e)):o([e])})),o([])}),[t.episode,n]),Object(D.jsx)("div",{children:Object(D.jsx)(w.a,{open:n,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(D.jsxs)(f.a,{sx:P,children:[Object(D.jsx)(T.a,{id:"modal-modal-title",variant:"h3",component:"h2",children:t.name}),Object(D.jsxs)(T.a,{sx:{mb:1.5},color:"text.secondary",children:["Gender: ",t.gender]}),Object(D.jsxs)(T.a,{id:"modal-modal-description",sx:{mt:2},variant:"body2",children:["Species: ",t.species,Object(D.jsx)("br",{}),"Status: ",t.status,Object(D.jsx)("br",{}),"Location: ",t.location.name,Object(D.jsx)("br",{}),"Type: ",t.type||"None",Object(D.jsx)("br",{}),"Origin: ",t.origin.name,Object(D.jsx)("br",{}),"Created: ",new Date(t.created).toLocaleDateString()]}),Object(D.jsxs)(f.a,{id:"modal-modal-description",sx:Object(_.a)({mt:2},F),variant:"body2",children:["Episodes: ",s.length,Object(D.jsx)("br",{}),Object(D.jsx)("ul",{children:s.map((function(e){return Object(D.jsxs)("li",{children:["[",e.episode,"] ",e.name]},k(10))}))})]})]})})})}function H(e){var t=e.data,n=e.type,c=Object(r.useState)(!1),a=Object(p.a)(c,2),i=a[0],s=a[1];return"characters"===n?Object(D.jsxs)(S.a,{sx:{m:1.5,width:300},children:[Object(D.jsxs)(R.a,{children:[Object(D.jsx)(I.a,{component:"img",image:t.image,alt:t.name+" image"}),Object(D.jsx)(T.a,{variant:"h5",component:"div",children:t.name}),Object(D.jsxs)(T.a,{sx:{mb:1.5},color:"text.secondary",children:["Gender: ",t.gender]}),Object(D.jsxs)(T.a,{variant:"body2",children:["Species: ",t.species,Object(D.jsx)("br",{}),"Status: ",t.status,Object(D.jsx)("br",{}),"Location: ",t.location.name]})]}),Object(D.jsx)(y.a,{children:Object(D.jsx)(C.a,{size:"small",onClick:function(){return s(!0)},children:"Details"})}),Object(D.jsx)(L,{data:t,open:i,onClose:function(){return s(!1)}})]}):Object(D.jsx)(S.a,{sx:{m:1.5,width:300},children:Object(D.jsxs)(R.a,{children:[Object(D.jsx)(T.a,{variant:"h5",component:"div",children:t.name}),Object(D.jsxs)(T.a,{sx:{mb:1.5},color:"text.secondary",children:[t.episode,Object(D.jsx)("br",{}),"Air date: ",t.air_date]})]})})}var N=n(160),B=n(4),G=n(162),J=n(164),M=n(165),W=n(156),z=n(161);function Y(e){var t=e.filters,n=e.setFilterString,r=e.handleChangePage,a=c.a.useState({}),i=Object(p.a)(a,2),s=i[0],o=i[1];function d(e){o(Object(_.a)(Object(_.a)({},s),{},Object(B.a)({},e.target.name,e.target.value)))}return Object(D.jsxs)(f.a,{children:[Object(D.jsx)(f.a,{sx:{pt:3,pl:3,pr:3,display:"flex",flexDirection:"row"},children:Object.entries(t).map((function(e){var t=Object(p.a)(e,2),n=t[0],r=t[1];return Array.isArray(r)?Object(D.jsxs)(J.a,{sx:{width:200,mr:2},children:[Object(D.jsx)(M.a,{id:"demo-simple-select-label",children:n}),Object(D.jsx)(W.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s[n]||"",label:n,onChange:d,name:n,children:r.map((function(e){return Object(D.jsx)(z.a,{value:e,children:e},e)}))})]},k(10)):Object(D.jsx)(G.a,{id:"outlined-basic",sx:{width:200,mr:2},label:n,variant:"outlined",name:n,value:s[n]||"",onChange:d},n)}))}),Object(D.jsxs)(f.a,{sx:{p:3,display:"flex",flexDirection:"row"},children:[Object(D.jsx)(C.a,{onClick:function(){var e=s;Object.keys(e).forEach((function(t){return e[t]=""})),o(Object(_.a)(Object(_.a)({},s),e)),n(""),r(null,1,"")},sx:{mr:3},children:"Clear"}),Object(D.jsx)(C.a,{onClick:function(){var e="";for(var t in s)e+="&".concat(t,"=").concat(s[t]);n(e),r(null,1,e)},variant:"outlined",children:"Apply filter"})]})]})}var q=Object(s.b)((function(e,t){return"characters"===t.contentType?{content:e.charactersReducer,info:e.charactersInfoReducer,error:e.charactersErrorReducer,API:"https://rickandmortyapi.com/api/character/",filters:{name:"",status:["alive","dead","unknown",""],species:"",type:"",gender:["female","male","genderless","unknown",""]}}:{content:e.episodesReducer,info:e.episodesInfoReducer,error:e.episodesErrorReducer,API:m,filters:{name:"",episode:""}}}),(function(e){return{dispatch:e}}))((function(e){var t=e.value,n=e.index,a=e.dispatch,i=e.content,s=e.info,o=e.error,d=e.contentType,l=e.filters,j=e.API;Object(r.useEffect)((function(){E(d,a,j)}),[d,a]);var u=c.a.useState(1),b=Object(p.a)(u,2),h=b[0],O=b[1],x=c.a.useState(""),m=Object(p.a)(x,2),v=m[0],g=m[1],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;E(d,a,j+"?page=".concat(t)+n),O(t)};return Object.keys(i).length&&Object.keys(s).length?Object(D.jsxs)("div",{hidden:t!==n,children:[Object(D.jsx)(f.a,{children:Object(D.jsx)(Y,{filters:l,setFilterString:g,handleChangePage:S})}),Object(D.jsx)(f.a,{sx:{p:3,display:"flex",flexFlow:"wrap",justifyContent:"space-around"},children:o?Object(D.jsx)(f.a,{children:"There is nothing here"}):i.map((function(e){return Object(D.jsx)(H,{data:e,type:d},e.id)}))}),Object(D.jsx)(f.a,{sx:{p:5,pb:10,display:"flex",justifyContent:"end"},children:Object(D.jsx)(N.a,{page:o?1:h,count:o?1:s.pages,onChange:S,showFirstButton:!0,showLastButton:!0})})]}):null}));function K(){var e=r.useState(0),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(D.jsxs)(f.a,{sx:{width:"100%"},children:[Object(D.jsx)(f.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(D.jsxs)(O.a,{sx:{pt:3,pl:3,pr:3},value:n,onChange:function(e,t){c(t)},children:[Object(D.jsx)(x.a,{label:"Characters"}),Object(D.jsx)(x.a,{label:"Episodes"})]})}),Object(D.jsx)(q,{value:n,index:0,contentType:"characters"}),Object(D.jsx)(q,{value:n,index:1,contentType:"episodes"})]})}var Q=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(K,{})})},U=Object(i.b)(h);Object(a.render)(Object(D.jsx)(s.a,{store:U,children:Object(D.jsx)(Q,{})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.ab34bb48.chunk.js.map