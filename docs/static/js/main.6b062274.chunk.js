(this.webpackJsonppecode=this.webpackJsonppecode||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(21),r=n(41),s=n(28),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_CHARACTERS_LIST"===t.type?t.characters:e},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_EPISODES_LIST"===t.type?t.episodes:e},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_CHARACTERS_INFO"===t.type?t.charsInfo:e},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_EPISODES_INFO"===t.type?t.epsInfo:e},l=Object(r.a)({charactersReducer:o,episodesReducer:i,charactersInfoReducer:d,episodesInfoReducer:j}),b=(n(80),n(81),n(9)),h=n(123),p=n(130),u=n(129),x=n(126),O=n(133),f=n(132),m=n(128),v=n(131),y=n(134),S=n(58),g=n(14),E=n(122);var T="https://rickandmortyapi.com/api/character/",I="https://rickandmortyapi.com/api/episode/",C=n(2),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:500,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},R={maxHeight:300,overflowY:"auto"};function A(e){var t=e.data,n=e.open,a=e.onClose,r=Object(c.useState)([]),s=Object(b.a)(r,2),o=s[0],i=s[1];return Object(c.useEffect)((function(){return fetch(I+t.episode.map((function(e){return e.split("/")[e.split("/").length-1]})).join(",")).then((function(e){return e.json()})).then((function(e){Array.isArray(e)?i(Object(g.a)(e)):i([e])})),i([])}),[t.episode,n]),Object(C.jsx)("div",{children:Object(C.jsx)(E.a,{open:n,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(C.jsxs)(u.a,{sx:_,children:[Object(C.jsx)(v.a,{id:"modal-modal-title",variant:"h3",component:"h2",children:t.name}),Object(C.jsxs)(v.a,{sx:{mb:1.5},color:"text.secondary",children:["Gender: ",t.gender]}),Object(C.jsxs)(v.a,{id:"modal-modal-description",sx:{mt:2},variant:"body2",children:["Species: ",t.species,Object(C.jsx)("br",{}),"Status: ",t.status,Object(C.jsx)("br",{}),"Location: ",t.location.name,Object(C.jsx)("br",{}),"Type: ",t.type||"None",Object(C.jsx)("br",{}),"Origin: ",t.origin.name,Object(C.jsx)("br",{}),"Created: ",new Date(t.created).toLocaleDateString()]}),Object(C.jsxs)(u.a,{id:"modal-modal-description",sx:Object(S.a)({mt:2},R),variant:"body2",children:["Episodes: ",o.length,Object(C.jsx)("br",{}),Object(C.jsx)("ul",{children:o.map((function(e){return Object(C.jsxs)("li",{children:["[",e.episode,"] ",e.name]},function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_",c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(10))}))})]})]})})})}function w(e){var t=e.data,n=e.type,a=Object(c.useState)(!1),r=Object(b.a)(a,2),s=r[0],o=r[1];return"characters"===n?Object(C.jsxs)(x.a,{sx:{m:1.5,width:300},children:[Object(C.jsxs)(f.a,{children:[Object(C.jsx)(y.a,{component:"img",image:t.image,alt:t.name+" image"}),Object(C.jsx)(v.a,{variant:"h5",component:"div",children:t.name}),Object(C.jsxs)(v.a,{sx:{mb:1.5},color:"text.secondary",children:["Gender: ",t.gender]}),Object(C.jsxs)(v.a,{variant:"body2",children:["Species: ",t.species,Object(C.jsx)("br",{}),"Status: ",t.status,Object(C.jsx)("br",{}),"Location: ",t.location.name]})]}),Object(C.jsx)(O.a,{children:Object(C.jsx)(m.a,{size:"small",onClick:function(){return o(!0)},children:"Details"})}),Object(C.jsx)(A,{data:t,open:s,onClose:function(){return o(!1)}})]}):Object(C.jsx)(x.a,{sx:{m:1.5,width:300},children:Object(C.jsxs)(f.a,{children:[Object(C.jsx)(v.a,{variant:"h5",component:"div",children:t.name}),Object(C.jsxs)(v.a,{sx:{mb:1.5},color:"text.secondary",children:[t.episode,Object(C.jsx)("br",{}),"Air date: ",t.air_date]})]})})}function k(e,t,n){fetch(n).then((function(e){return e.json()})).then((function(n){"characters"===e?(t({type:"SET_CHARACTERS_LIST",characters:n.results}),t({type:"SET_CHARACTERS_INFO",charsInfo:n.info})):(t({type:"SET_EPISODES_LIST",episodes:n.results}),t({type:"SET_EPISODES_INFO",epsInfo:n.info}))}))}var L=n(125);var D=Object(s.b)((function(e,t){return{content:"characters"===t.contentType?e.charactersReducer:e.episodesReducer,info:"characters"===t.contentType?e.charactersInfoReducer:e.episodesInfoReducer}}),(function(e){return{dispatch:e}}))((function(e){var t=e.value,n=e.index,a=e.dispatch,r=e.content,s=e.info,o=e.contentType;Object(c.useEffect)((function(){k(o,a,"characters"===o?T:I)}),[o,a]);var i=c.useState(1),d=Object(b.a)(i,2),j=d[0],l=d[1];return Object.keys(r).length&&Object.keys(s).length?Object(C.jsxs)("div",{hidden:t!==n,children:[Object(C.jsx)(u.a,{sx:{p:3,display:"flex",flexFlow:"wrap",justifyContent:"space-around"},children:r.map((function(e){return Object(C.jsx)(w,{data:e,type:o},e.id)}))}),Object(C.jsx)(u.a,{sx:{p:5,pb:10,display:"flex",justifyContent:"end"},children:Object(C.jsx)(L.a,{page:j,count:s.pages,onChange:function(e,t){k(o,a,("characters"===o?T:I)+"?page=".concat(t)),l(t)},showFirstButton:!0,showLastButton:!0})})]}):null}));function F(){var e=c.useState(0),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)(u.a,{sx:{width:"100%"},children:[Object(C.jsx)(u.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(C.jsxs)(h.a,{sx:{pt:3,pl:3,pr:3},value:n,onChange:function(e,t){a(t)},children:[Object(C.jsx)(p.a,{label:"Characters"}),Object(C.jsx)(p.a,{label:"Episodes"})]})}),Object(C.jsx)(D,{value:n,index:0,contentType:"characters"}),Object(C.jsx)(D,{value:n,index:1,contentType:"episodes"})]})}var N=Object(s.b)()((function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(F,{})})})),H=Object(r.b)(l);Object(a.render)(Object(C.jsx)(s.a,{store:H,children:Object(C.jsx)(N,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.6b062274.chunk.js.map